# 指令语句

---

### 传送数据指令

- `mov`

  1. 解析：

     赋值指令，格式：`mov? source, destination`

  2. 使用：source和destination的值都可以是内存地址、存储在内存中的数据值、指令语句中定义的数据值、寄存器

  3. 例子：

     | mov? | bits | example           |
     | ---- | ---- | ----------------- |
     | b    | 8    | `movb %al, %bl`   |
     | w    | 16   | `movw %ax, %bx`   |
     | l    | 32   | `movl %eax, %ebx` |
     | q    | 64   | `movq %rax, %rbx` |

  4. 扩展：

     1. 当指令中含有寄存器时，`mov?`中的`?`可不写，如：`mov $0xFF00EE88 %eax`
     2. 当使用`as`作为编译器的时候，所有内存地址都是32位的，可使用`movl`记录内存地址


### 指令语句



- `$`

  1. 解析：

     1. 立即数的标识，格式：`$立即数`
     2. 取内存地址，格式：`$内存变量名`

  2. 使用：$后面只能跟数字或内存变量名

  3. 例子：

     |             | value | immediate |
     | ----------- | ----- | --------- |
     | decimal     | 125   | $125      |
     | hexadecimal | f8    | $0xf8     |
     | octal       | 17    | $017      |
     | binary      | 1001  | $0b1001   |

- `add`

  1. 解析：

     将两个数相加

  2. 例子：

     | add? | bits | example           |
     | ---- | ---- | ----------------- |
     | b    | 8    | `addb %al, %bl`   |
     | w    | 16   | `addw %ax, %bx`   |
     | l    | 32   | `addl %eax, %ebx` |

- `sub`

  1. 解析：

     将两个数相减

  2. 例子：

     | sub? | bits | example           |
     | ---- | ---- | ----------------- |
     | b    | 8    | `subb %al, %bl`   |
     | w    | 16   | `subw %ax, %bx`   |
     | l    | 32   | `subl %eax, %ebx` |

  3. 无符号整数使用 `mul`，有符号整数使用 `imul`

- `mul`

  1. 解析：

     将两个数相乘

  2. 例子：

     | sub? | bits | example           |
     | ---- | ---- | ----------------- |
     | b    | 8    | `subb %al, %bl`   |
     | w    | 16   | `subw %ax, %bx`   |
     | l    | 32   | `subl %eax, %ebx` |

- `div`

  1. 解析：

     将两个数相除

  2. 例子：

     | sub? | bits | example           |
     | ---- | ---- | ----------------- |
     | b    | 8    | `subb %al, %bl`   |
     | w    | 16   | `subw %ax, %bx`   |
     | l    | 32   | `subl %eax, %ebx` |

  3. 无符号整数使用 `div`，有符号整数使用 `idiv`

- `sal`|`shl`

  1. 解析：左移

  2. 例子：

     | sal? | bits | example         |
     | ---- | ---- | --------------- |
     | b    | 8    | `salb $2, %bl`  |
     | w    | 16   | `salw $2, %bx`  |
     | l    | 32   | `sall $2, %ebx` |

- `shr`

  1. 解析：逻辑右移，移位后最高位永远补0

- `sar`

  1. 解析：算术右移，移位后最高位是什么就补什么（假设是有符号数字，那么最高位代表正负数，因此算术右移最高位不能改变，即正负数不能改变）

- `rcl`

  1. 解析：循环左移

- `rcr`

  1. 解析：循环右移